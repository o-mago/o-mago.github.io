(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{298:function(t,e,n){t.exports=n.p+"img/logo-esf.845e5d7.png"},381:function(t,e){},383:function(t,e){},410:function(t,e){},412:function(t,e){},440:function(t,e){},442:function(t,e){},443:function(t,e){},448:function(t,e){},450:function(t,e){},456:function(t,e){},458:function(t,e){},477:function(t,e){},489:function(t,e){},492:function(t,e){},528:function(t,e,n){"use strict";n.r(e);var r=n(14),o=n(10),c=(n(73),n(180),n(51),n(32),n(27),n(35),n(49),n(28),n(50),n(372)),l=n.n(c);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={data:function(){return{client:null,plan:null,paymentData:null,loading:!0,planId:void 0,status:null,error:null}},mounted:function(){var t=document.createElement("script");t.setAttribute("src","https://assets.pagar.me/checkout/1.1.0/checkout.js"),document.head.appendChild(t)},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.planId=parseInt(t.$route.params.slug),!t.planId){e.next=8;break}return e.next=4,l.a.client.connect({api_key:"ak_test_da9EBspLj2XskyrSasulLsi1q8PVuc"});case 4:return t.client=e.sent,e.next=7,t.client.plans.find({id:t.planId});case 7:t.plan=e.sent;case 8:t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},methods:{getFormatedPrice:function(){var t=""+this.plan.amount;return t.slice(-t.length-1,-2)+","+t.substring(t.length-2)},callCheckout:function(){var t=this;new PagarMeCheckout.Checkout({encryption_key:"ek_test_74qy492ku6R0gb1bJk5aQNoSTlJKgK",success:function(data){t.createRecurrence(data)},error:function(t){console.log(t)},close:function(){console.log("The modal has been closed.")}}).open({amount:this.plan.amount,customerData:"true",paymentMethods:"credit_card",paymentButtonText:"Doar",createToken:"false",uiColor:"#2aa879",headerText:"Valor da doação mensal",items:[{id:"1",title:"Doação",unit_price:this.plan.amount,quantity:1,tangible:"false"}]})},createRecurrence:function(data){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.client.subscriptions.create(v({plan_id:t.plan.id},data));case 3:n=e.sent,console.log(n),t.status="ok",e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.errors[0].message),t.error=null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.errors[0].message,t.status="error";case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},m=n(65),h=n(495),_=n.n(h),y=n(532),k=n(370),x=n(527),C=n(531),O=n(367),w=n(529),j=n(365),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"min-h-screen flex justify-center items-center text-center mx-auto bg-green-500"},[t.loading?t._e():r("div",[t.status&&"ok"===t.status?t._e():r("div",[r("v-card",{staticClass:"py-5 px-5",attrs:{"min-width":"500",elevation:"2"}},[r("v-img",{attrs:{contain:"","aspect-ratio":"2",src:n(298)}}),t._v(" "),t.planId?r("div",[r("div",{staticClass:"my-10"},[r("h1",{staticClass:"font-sans"},[t._v("Doação mensal no valor de")]),t._v(" "),r("h1",{staticClass:"font-sans text-green-600"},[t._v(" R$ "+t._s(t.getFormatedPrice())+" ")])]),t._v(" "),r("div",[r("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"#2aa879"},on:{click:function(e){return t.callCheckout()}}},[t._v("\n              Preencher dados\n            ")])],1)]):t._e(),t._v(" "),t.planId?t._e():r("div",[r("div",{staticClass:"my-10"},[r("h1",{staticClass:"font-sans"},[t._v("Doação não encontrada")])])])],1),t._v(" "),t.status&&"error"===t.status?r("v-alert",{attrs:{type:"error"}},[t._v(t._s(this.error))]):t._e()],1),t._v(" "),t.status&&"ok"===t.status?r("div",[r("v-card",{staticClass:"py-5 px-5 sm",attrs:{elevation:"2"}},[r("v-img",{attrs:{contain:"","aspect-ratio":"2",src:n(298)}}),t._v(" "),r("div",{staticClass:"my-10"},[r("h1",{staticClass:"font-sans"},[t._v("Doação cadastrada com sucesso")]),t._v(" "),r("h1",{staticClass:"font-sans"},[t._v("Em caso de dúvidas contate:")]),t._v(" "),r("h1",{staticClass:"font-sans text-green-600"},[t._v(" comunicacao.jf@esf-brasil.org  ")])])],1),t._v(" "),r("v-alert",{attrs:{type:"success"}},[t._v("Doação confirmada")])],1):t._e()]),t._v(" "),t.loading?r("div",[r("v-progress-circular",{attrs:{size:80,color:"#FFFFFF",indeterminate:""}})],1):t._e()]),t._v(" "),r("v-footer",{attrs:{dark:"",padless:"",fixed:""}},[r("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[r("p",{staticClass:"white--text text-center p-0.5 text-sm"},[t._v("\n      "+t._s((new Date).getFullYear())+" — Alexandre Cabral \n      "),r("v-btn",{attrs:{icon:"",href:"https://github.com/o-mago",target:"_blank"}},[r("v-icon",[t._v("\n          mdi-github\n        ")])],1)],1)])],1)],1)}),[],!1,null,null,null);e.default=component.exports;_()(component,{VAlert:y.a,VBtn:k.a,VCard:x.a,VFooter:C.a,VIcon:O.a,VImg:w.a,VProgressCircular:j.a})}}]);